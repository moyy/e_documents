- [定点数](#定点数)
  - [有理数 表示法](#有理数-表示法)
  - [定点数 的 例子：FreeType 26.6 定点数](#定点数-的-例子freetype-266-定点数)
      - [例子：有理数 1.0](#例子有理数-10)
      - [有理数 1.25](#有理数-125)
      - [使用场合：（大多数）用于编码解码，而且表示范围和精度都能预先估计](#使用场合大多数用于编码解码而且表示范围和精度都能预先估计)

# 定点数

## 有理数 表示法

|表示|说明|优点|缺点|
|--|--|--|--|
|分数|整数元组 (m, n)，表示有理数：m/n|无穷精确|需要大数库 & 性能像蜗牛|
|定点数|fix-m.n：m位表示整数部分，n位表示小数部分|简单，所有的精度都是均匀的|无法表示太大的范围|
|浮点数|IEEE-754标准|能表示很大范围|绝对值越大，精度越低|

## 定点数 的 例子：FreeType 26.6 定点数

Fix-26.6：用 `u32` --> 32位整数 来表示有理数，其中高26位表示整数，低6位表示小数；

#### 例子：有理数 1.0

因为小数部分是0，所以低6位全是0，第7位是1，所以用u32：0b1000000 = 64 表示；

`推论：` 所有的整数n的26.6表示都是数字 64 * n

#### 有理数 1.25

因为小数部分是0.25=1/4=二进制0.01，所以低6位是010000；用u32：0b1010000 = 80 表示；

`推论：` 小数部分只有6位，能表达的最小精度只有 2^-6 = 1/64

`推论：` 整数部分26位，假设最高位表示符号位，那么只有25位有效位数，所以能表达的最大范围只有：2^25 = 2^5 * 2^20 = 32M

#### 使用场合：（大多数）用于编码解码，而且表示范围和精度都能预先估计

换句话：不大需要 数学运算

比如Freetype字体尺寸，不大可能需要表示小于1/64的大小，所以可以用定点数表示；